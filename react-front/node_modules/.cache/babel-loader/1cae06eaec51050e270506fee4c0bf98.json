{"ast":null,"code":"var _jsxFileName = \"/home/gianluca/Documentos/Proyectos/ReactFront/react-front/src/Resources/DataTable.js\";\nimport React from 'react';\nlet searchTimeout = null;\n\nclass DataTable extends React.Component {\n  constructor(props) {\n    super();\n    this.state = {\n      keyHeaders: props.keyHeaders,\n      //[\"id\",\"nombre\",\"fecha\"],\n      nameHeaders: props.nameHeaders,\n      dataVisible: [],\n      dataCount: 3,\n      pages: 0,\n      url: props.url,\n      inPage: 1,\n      take: props.take,\n      search: \"\"\n    };\n    this.contador = 0;\n    this.getDataFromServer();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row mb-2 mt-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col d-flex justify-content-end\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"search\",\n      placeholder: \"buscar\",\n      className: \"form-control-sm form-control w-25\",\n      id: \"search\",\n      onKeyUp: () => {\n        clearTimeout(searchTimeout);\n        searchTimeout = setTimeout(() => {\n          this.setState({\n            search: document.getElementById(\"search\").value\n          });\n          this.getDataFromServer();\n        }, 300);\n      },\n      onInput: () => {\n        if (document.getElementById(\"search\").value == \"\") {\n          this.setState({\n            search: \"\"\n          });\n          this.getDataFromServer();\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    }))), React.createElement(\"table\", {\n      className: \"table bg-white border table-hover table-sm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, this.state.nameHeaders.map(n => React.createElement(\"th\", {\n      key: n,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, n)))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, this.state.dataVisible.map(datavisible => React.createElement(\"tr\", {\n      key: datavisible.idVenta,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, this.state.keyHeaders.map(column => React.createElement(\"td\", {\n      key: column,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, datavisible[column])))))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-6 d-flex justify-content-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, \"Viendo \", this.state.dataVisible.length, \" de \", this.state.dataCount), React.createElement(\"div\", {\n      className: \"col-6 d-flex justify-content-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"m-2 btn btn-secondary btn-sm\",\n      onClick: () => {\n        this.setState({\n          inPage: this.contador === 0 ? 0 : this.contador--\n        });\n        this.getDataFromServer();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fas fa-chevron-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }), \" Anterior\"), \"P\\xE1g. \", this.contador + 1, React.createElement(\"button\", {\n      className: \"m-2 btn btn-secondary btn-sm\",\n      onClick: () => {\n        this.setState({\n          inPage: this.contador++\n        });\n        this.getDataFromServer();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"Siguiente \", React.createElement(\"i\", {\n      className: \"fas fa-chevron-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    })))));\n  }\n\n  getDataFromServer() {\n    fetch(\"\".concat(this.state.url, \"?skip=\").concat(this.contador * this.state.take, \"&take=\").concat(this.state.take, \"&search=\").concat(this.state.search)).then(data => data.json()).then(data => this.props.callBackData(data)).then(data => this.setState({\n      dataVisible: data\n    }));\n  }\n\n}\n\nexport default DataTable;","map":{"version":3,"sources":["/home/gianluca/Documentos/Proyectos/ReactFront/react-front/src/Resources/DataTable.js"],"names":["React","searchTimeout","DataTable","Component","constructor","props","state","keyHeaders","nameHeaders","dataVisible","dataCount","pages","url","inPage","take","search","contador","getDataFromServer","render","clearTimeout","setTimeout","setState","document","getElementById","value","map","n","datavisible","idVenta","column","length","fetch","then","data","json","callBackData"],"mappings":"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","sourcesContent":["import React from 'react';\n\nlet searchTimeout= null;\nclass DataTable extends React.Component\n{\n    constructor(props)\n    {\n        super();\n        this.state = \n        {\n            keyHeaders: props.keyHeaders,//[\"id\",\"nombre\",\"fecha\"],\n            nameHeaders: props.nameHeaders,\n            dataVisible: [],\n            dataCount:3,\n            pages:0,\n            url: props.url,\n            inPage:1,\n            take: props.take,\n            search: \"\"\n        }\n        this.contador = 0;\n\n        this.getDataFromServer();\n    }\n    render()\n    {\n        return(\n            <div>\n                <div className=\"row mb-2 mt-2\">\n                    <div className=\"col d-flex justify-content-end\" >\n                        <input type=\"search\" placeholder=\"buscar\" className=\"form-control-sm form-control w-25\" id=\"search\" onKeyUp={()=>\n                            {\n                                clearTimeout(searchTimeout)\n                                searchTimeout = setTimeout(()=> {\n                                    this.setState({search: document.getElementById(\"search\").value})\n                                    this.getDataFromServer();\n                                },300)\n                        }}\n                        \n                        onInput = {()=>{\n                            if(document.getElementById(\"search\").value == \"\"){\n                                this.setState({search: \"\"})\n                                this.getDataFromServer();\n                            }\n                        }}\n                        />\n                    </div>\n                </div>\n                <table className=\"table bg-white border table-hover table-sm\">\n                    <thead className=\"\">\n                        <tr>\n                            {\n                                this.state.nameHeaders.map(n =>\n                                    <th key={n}>{n}</th>\n                                )\n                            }\n                        </tr>\n                    </thead>\n                    <tbody>\n                    {this.state.dataVisible.map(datavisible =>\n                        <tr key={datavisible.idVenta}>\n                        {\n                            this.state.keyHeaders.map(column => \n                                <td key={column}>{datavisible[column]}</td>\n                            )\n                        }\n                        </tr>\n                    )}\n                    </tbody>\n                </table>\n                <div className=\"row\">\n                    <div className=\"col-6 d-flex justify-content-center\">Viendo {this.state.dataVisible.length} de {this.state.dataCount}</div>\n                    <div className=\"col-6 d-flex justify-content-center\">\n                        <button className=\"m-2 btn btn-secondary btn-sm\" onClick={()=>{\n                            this.setState({inPage: this.contador === 0 ? 0 : this.contador--})\n                            this.getDataFromServer();\n                        }\n                        }><i className=\"fas fa-chevron-left\"></i> Anterior</button>\n                        Pág. {this.contador+1}\n                        <button className=\"m-2 btn btn-secondary btn-sm\" onClick={()=>{\n                            this.setState({inPage: this.contador++})\n                            this.getDataFromServer();\n                        }\n                        }>Siguiente <i className=\"fas fa-chevron-right\"></i></button>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n    getDataFromServer()\n    {\n        fetch(`${this.state.url}?skip=${this.contador*this.state.take}&take=${this.state.take}&search=${this.state.search}`)\n        .then(data => data.json())\n        .then(data => this.props.callBackData(data))\n        .then(data => this.setState({dataVisible: data}))\n    }\n}\n\nexport default DataTable;"]},"metadata":{},"sourceType":"module"}